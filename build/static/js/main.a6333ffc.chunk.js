(this["webpackJsonpaviasales-frontend"]=this["webpackJsonpaviasales-frontend"]||[]).push([[0],{34:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){"use strict";n.r(e),function(t){var e=n(1),c=n.n(e),r=n(4),a=n(39),s=n(57),i=s.search,o=s.ticketsUrl;function l(){return(l=Object(r.a)(c.a.mark((function t(){var e,n,r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.get(i);case 2:return e=t.sent,n=e.data.searchId,t.next=6,a.get(o,{params:{searchId:n}});case 6:return r=t.sent,s=r.data.tickets,t.abrupt("return",s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}t.exports=function(){return l.apply(this,arguments)}}.call(this,n(38)(t))},57:function(t,e){var n={search:"https://front-test.beta.aviasales.ru/search",ticketsUrl:"https://front-test.beta.aviasales.ru/tickets"};t.exports=n},58:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n(2),a=n.n(r),s=n(27),i=n.n(s),o=(n(34),n(1)),l=n.n(o),u=n(28),p=n(10),h=n(9),d=n(4),b=n(5),f=n(6),j=n(8),m=n(7),O=(n(36),function(t){Object(j.a)(n,t);var e=Object(m.a)(n);function n(t){var c;return Object(b.a)(this,n),(c=e.call(this,t)).getDuration=function(t){var e=Math.floor(t/60),n=t%60;return"".concat(e,"\u0447 ").concat(n,"\u043c")},c.getStopAirports=function(t){var e=t.stops.reduce((function(t,e){return"".concat(t).concat(e,",")}),"").slice(0,-1);return""===e?" ":e},c.getStops=function(t){var e=t.stops;return e.length<6?["\u043f\u0440\u044f\u043c\u043e\u0439","1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430","2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438","3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438","4 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438","5 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"][e.length]:"".concat(e.length," \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a")},c.getPrice=function(t){var e="".concat(t),n=e.slice(0,-3),c=e.slice(-3);return"".concat(n," ").concat(c," \u0420")},c.getTime=function(t){var e=t.date,n=t.duration,c=new Date(e),r=new Date(c.valueOf()+60*n*1e3),a=1==="".concat(c.getMinutes()).length?"0".concat(c.getMinutes()):"".concat(c.getMinutes()),s=1==="".concat(c.getHours()).length?"0".concat(c.getHours()):"".concat(c.getHours()),i=1==="".concat(r.getMinutes()).length?"0".concat(r.getMinutes()):"".concat(r.getMinutes()),o=1==="".concat(r.getHours()).length?"0".concat(r.getHours()):"".concat(r.getHours());return"".concat(s,":").concat(a," - ").concat(o,":").concat(i)},c.state={tickets:t.tick},c}return Object(f.a)(n,[{key:"render",value:function(){var t=this.props.tick,e=t.carrier,n=t.price,r=t.segments,a=Object(p.a)(r,2),s=a[0],i=a[1],o="https://pics.avs.io/99/36/".concat(e,".png");return Object(c.jsxs)("div",{className:"ticket-container",children:[Object(c.jsxs)("div",{className:"ticket-header",children:[Object(c.jsx)("div",{className:"ticket-header-left",children:Object(c.jsx)("div",{className:"price",children:this.getPrice(n)})}),Object(c.jsx)("div",{className:"ticket-header-right",children:Object(c.jsx)("div",{className:"air-logo",children:Object(c.jsx)("img",{src:o,alt:"S7"})})})]}),Object(c.jsxs)("div",{className:"ticket-footer",children:[Object(c.jsxs)("div",{className:"ticket-footer-frst-col column",children:[Object(c.jsxs)("div",{className:"toward tw-frst-col",children:[Object(c.jsx)("div",{className:"toward-place ticket-frstline",children:"".concat(s.origin," - ").concat(s.destination)}),Object(c.jsx)("div",{className:"toward-time ticket-scndline",children:this.getTime(s)})]}),Object(c.jsxs)("div",{className:"back bc-frst-col",children:[Object(c.jsx)("div",{className:"back-place ticket-frstline",children:"".concat(i.origin," - ").concat(i.destination)}),Object(c.jsx)("div",{className:"back-time ticket-scndline",children:this.getTime(i)})]})]}),Object(c.jsxs)("div",{className:"ticket-footer-scnd-col column",children:[Object(c.jsxs)("div",{className:"toward tw-scnd-col",children:[Object(c.jsx)("div",{className:"toward-rootTime ticket-frstline",children:"\u0432 \u043f\u0443\u0442\u0438"}),Object(c.jsx)("div",{className:"toward-rootTime ticket-scndline",children:this.getDuration(s.duration)})]}),Object(c.jsxs)("div",{className:"back bk-scnd-col",children:[Object(c.jsx)("div",{className:"back-rootTime ticket-frstline",children:"\u0432 \u043f\u0443\u0442\u0438"}),Object(c.jsx)("div",{className:"back-rootTime ticket-scndline",children:this.getDuration(i.duration)})]})]}),Object(c.jsxs)("div",{className:"ticket-footer-thrd-col column",children:[Object(c.jsxs)("div",{className:"toward tw-thrd-col",children:[Object(c.jsx)("div",{className:"toward-extraInfo ticket-frstline",children:this.getStops(s)}),Object(c.jsx)("div",{className:"toward-extraInfo ticket-scndline",children:this.getStopAirports(s)})]}),Object(c.jsxs)("div",{className:"back bk-thrd-col",children:[Object(c.jsx)("div",{className:"back-extraInfo ticket-frstline",children:this.getStops(i)}),Object(c.jsx)("div",{className:"back-extraInfo ticket-scndline",children:this.getStopAirports(i)})]})]})]})]})}}]),n}(a.a.Component)),x=n(37),k=function(t){Object(j.a)(n,t);var e=Object(m.a)(n);function n(t){var c;return Object(b.a)(this,n),(c=e.call(this,t)).onClick=function(){var t=Object(d.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,x();case 3:n=t.sent,c.props.callback(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c}return Object(f.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{onClick:this.onClick,className:"btn-get-info-cont",children:Object(c.jsx)("div",{className:"btn-get-info",children:"\u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e"})})}}]),n}(a.a.Component),v=n(26),g=function(t){Object(j.a)(n,t);var e=Object(m.a)(n);function n(t){var c;return Object(b.a)(this,n),(c=e.call(this,t)).onClick=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("allOption"!==e.target.id||!e.target.checked){t.next=7;break}return t.next=3,c.setState({allOption:!0});case 3:for(n=2;n<=5;n+=1)(r=e.target.parentElement.parentElement.children[n].children[0]).disabled=!0,r.checked=!1;t.next=12;break;case 7:if("allOption"!==e.target.id||e.target.checked){t.next=12;break}return t.next=10,c.setState({allOption:!1});case 10:for(a=2;a<=5;a+=1)e.target.parentElement.parentElement.children[a].children[0].disabled=!1;case 12:c.props.action(e.target);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.state={t:[],allOption:!1},c}return Object(f.a)(n,[{key:"render",value:function(){var t=this.state.allOption;return Object(c.jsxs)("div",{className:"myleft-menu-container",children:[Object(c.jsxs)("div",{className:"myleft-menu-container-cont",children:[Object(c.jsx)("div",{className:"myleft-menu-container-title",children:"\u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"}),Object(c.jsxs)("div",{onClick:this.onClick,className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"allOption"}),Object(c.jsx)("label",{className:v({"form-check-label":!0}),htmlFor:"allOption",children:"\u0412\u0441\u0435"})]}),Object(c.jsxs)("div",{onClick:this.onClick,className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"without"}),Object(c.jsx)("label",{className:v({"form-check-label":!0,"font-gray":t}),htmlFor:"without",children:"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"})]}),Object(c.jsxs)("div",{onClick:this.onClick,className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"optionOne"}),Object(c.jsx)("label",{className:v({"form-check-label":!0,"font-gray":t}),htmlFor:"optionOne",children:"1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430"})]}),Object(c.jsxs)("div",{onClick:this.onClick,className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"optionTwo"}),Object(c.jsx)("label",{className:v({"form-check-label":!0,"font-gray":t}),htmlFor:"optionTwo",children:"2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]}),Object(c.jsxs)("div",{onClick:this.onClick,className:"form-check",children:[Object(c.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"optionThree"}),Object(c.jsx)("label",{className:v({"form-check-label":!0,"font-gray":t}),htmlFor:"optionThree",children:"3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"})]})]}),Object(c.jsx)(k,{callback:this.props.callback})]})}}]),n}(a.a.Component),N=n(17),w=n(26),C=function(t){Object(j.a)(n,t);var e=Object(m.a)(n);function n(t){var c;return Object(b.a)(this,n),(c=e.call(this,t)).onClick=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r,a,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!1!==c.props.ifItems){t.next=3;break}return t.abrupt("return");case 3:return n=e.target.className.split("-")[3].split(" ")[0],r="left"===n?"right":"left",a=!c.state[n],s=!1,t.next=9,c.setState(Object(N.a)({},n,a));case 9:return t.next=11,c.setState(Object(N.a)({},r,s));case 11:c.props.action(e);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.state={right:!1,left:!1},c}return Object(f.a)(n,[{key:"render",value:function(){var t=w({"top-panel-container-left":!0,"top-panel-blue":this.state.left}),e=w({"top-panel-container-right":!0,"top-panel-blue":this.state.right});return Object(c.jsxs)("div",{onClick:this.onClick,className:"top-panel-container",children:[Object(c.jsx)("div",{className:t,children:"\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439"}),Object(c.jsx)("div",{className:e,children:"\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"})]})}}]),n}(a.a.Component),y=function(t){Object(j.a)(n,t);var e=Object(m.a)(n);function n(t){var c;return Object(b.a)(this,n),(c=e.call(this,t)).onClick=function(t){t.preventDefault(),c.props.action(t)},c}return Object(f.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("div",{onClick:this.onClick,className:"prevNext-cont",children:[Object(c.jsx)("div",{className:"btn-prev-cont page-btn-cont",children:Object(c.jsx)("div",{className:"btn-prev page-btn",children:"prev"})}),Object(c.jsx)("div",{className:"btn-next-cont page-btn-cont",children:Object(c.jsx)("div",{className:"btn-next page-btn",children:"next"})})]})}}]),n}(a.a.Component),S=n.p+"static/media/Logo.8bb77c6b.svg",F=function(t){Object(j.a)(n,t);var e=Object(m.a)(n);function n(t){var c;return Object(b.a)(this,n),(c=e.call(this,t)).leftFilterAction=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r,a,s,i,o,d,b,f,j,m,O,x,k,v,g,N,w,C;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,r=e.checked,a=Object(h.a)(c.state.items),s=a.slice(0),i=Object(h.a)(c.state.currentUpFilter),o=i.slice(0),d=[],b=["cheap","quickly"],f=["cheap","quickly","allOption"],j=["allOption","without","optionOne","optionTwo","optionThree"],m={allOption:function(t){return t},without:function(){return 0},optionOne:function(){return 1},optionTwo:function(){return 2},optionThree:function(){return 3},cheap:function(t){return t.sort((function(t,e){return t.price-e.price}))},quickly:function(t){return t.sort((function(t,e){var n=t.segments,c=Object(p.a)(n,2),r=c[0],a=c[1],s=r.duration,i=a.duration,o=e.segments,l=Object(p.a)(o,2),u=l[0],h=l[1];return s+i-(u.duration+h.duration)}))}},!r||"allOption"!==n){t.next=15;break}return(O=o.filter((function(t){return f.includes(t)}))).unshift(n),t.next=13,c.setState({currentUpFilter:O});case 13:t.next=25;break;case 15:if(!r||"allOption"===n){t.next=22;break}return o.unshift(n),console.log(o),t.next=20,c.setState({currentUpFilter:o});case 20:t.next=25;break;case 22:return d=o.filter((function(t){return t!==n})),t.next=25,c.setState({currentUpFilter:d});case 25:return x=[],0===c.state.currentUpFilter.length?(k=Object(h.a)(s),x=k.slice(0)):1===c.state.currentUpFilter.length&&b.includes(c.state.currentUpFilter[0])?(v=m[c.state.currentUpFilter[0]](s),g=Object(u.a)(v),x=g.slice(0)):x=c.state.currentUpFilter.reduce((function(t,e){if("allOption"===e)return s;if(j.includes(e)&&"allOption"!==e){var n=s.filter((function(t){var n=t.segments[0].stops.length,c=t.segments[1].stops.length;return(n>=c?n:c)===m[e]()}));return t.push(n),t.flat()}return m[e](t)}),[]),t.next=31,c.setState({currentCollection:x});case 31:return N=c.state.page,w=N+c.state.amount,C=c.state.currentCollection.slice(N,w),t.next=36,c.setState({currentItems:C});case 36:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.upperSorterAction=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r,a,s,i,o,u,d,b,f,j,m,O,x,k;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==c.state.currentItems.length){t.next=2;break}return t.abrupt("return");case 2:if(n=Object(h.a)(c.state.items),r=n.slice(0),a=["allOption","without","optionOne","optionTwo","optionThree"],s={allOption:function(t){return t},without:function(t){return t},optionOne:function(t){return t},optionTwo:function(t){return t},optionThree:function(t){return t},cheap:function(t){return t.sort((function(t,e){return t.price-e.price}))},quickly:function(t){return t.sort((function(t,e){var n=t.segments,c=Object(p.a)(n,2),r=c[0],a=c[1],s=r.duration,i=a.duration,o=e.segments,l=Object(p.a)(o,2),u=l[0],h=l[1];return s+i-(u.duration+h.duration)}))}},i={right:"quickly",left:"cheap"},o={quickly:"cheap",cheap:"quickly"},u=c.state.currentUpFilter,d=e.target.className.split("-")[3].split(" ")[0],f=o[b=i[d]],u.includes(b)){t.next=18;break}return u.push(b),u=u.filter((function(t){return t!==f})),t.next=16,c.setState({currentUpFilter:u});case 16:t.next=22;break;case 18:if(!u.includes(b)){t.next=22;break}return u=u.filter((function(t){return t!==b})),t.next=22,c.setState({currentUpFilter:u});case 22:return j=[],0===c.state.currentUpFilter.length?(m=Object(h.a)(r),j=m.slice(0)):j=c.state.currentUpFilter.reduce((function(t,e){if("allOption"===e)return r;if(a.includes(e)&&"allOption"!==e){var n=r.filter((function(t){var n=t.segments[0].stops.length,c=t.segments[1].stops.length;return(n>=c?n:c)===s[e]()}));return t.push(n),t.flat()}return s[e](t)}),c.state.currentCollection),t.next=27,c.setState({currentCollection:j});case 27:return O=c.state.page,x=O+c.state.amount,k=c.state.currentCollection.slice(O,x),t.next=32,c.setState({currentItems:k});case 32:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.action=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r,a,s,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("next"!==e.target.textContent){t.next=6;break}return n=c.state.page+1,t.next=4,c.setState({page:n});case 4:t.next=9;break;case 6:return r=1===c.state.page?c.state.page:c.state.page-1,t.next=9,c.setState({page:r});case 9:return a=c.state.page,s=a+c.state.amount,i=c.state.currentCollection.slice(a,s),t.next=14,c.setState({currentItems:i});case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.callbackFn=function(){var t=Object(d.a)(l.a.mark((function t(e){var n,r,a,s,i,o,u;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(h.a)(e),r=n.slice(0),a=Object(h.a)(e),s=a.slice(0),t.next=4,c.setState({items:r});case 4:return t.next=6,c.setState({currentCollection:s});case 6:return t.next=8,c.state.page;case 8:return t.t0=t.sent,i=t.t0-1,t.next=12,i;case 12:return t.t1=t.sent,t.t2=c.state.amount,o=t.t1+t.t2,t.next=17,e.slice(i,o);case 17:return u=t.sent,t.next=20,c.setState({currentItems:u});case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.state={items:[],page:1,currentItems:[],currentCollection:[],amount:3,currentUpFilter:[],curUpFilteredItem:[]},c}return Object(f.a)(n,[{key:"render",value:function(){var t=this.state.currentItems.map((function(t,e){return Object(c.jsx)(O,{tick:t},e)}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("style",{children:"@import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap');"}),Object(c.jsx)("header",{children:Object(c.jsx)("img",{src:S,alt:"logo"})}),Object(c.jsxs)("main",{children:[Object(c.jsx)(g,{action:this.leftFilterAction,callback:this.callbackFn}),Object(c.jsxs)("div",{className:"main-part-container",children:[Object(c.jsx)(C,{ifItems:this.state.items.length>0,action:this.upperSorterAction}),Object(c.jsx)("div",{className:"tickets-list-container",children:t}),this.state.currentCollection.length>0&&Object(c.jsx)(y,{action:this.action})]})]})]})}}]),n}(a.a.Component),T=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(e){var n=e.getCLS,c=e.getFID,r=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),r(t),a(t),s(t)}))};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(F,{})}),document.getElementById("root")),T()}},[[58,1,2]]]);
//# sourceMappingURL=main.a6333ffc.chunk.js.map